extends ../layout

block style
  link(href='/style/video-specific.css' rel='stylesheet')
  link(href="https://fonts.googleapis.com/css?family=Oxanium&display=swap" rel="stylesheet")


block content

  if video
    #video-div
      h1= video.title
      video(width='700' height='400' controls='')
        source(src=`/videos/${video.videoURL}` type='video/mp4')
    
      #subinfo
        p= `${video.viewCount} Views`
        p#subCount= `Subscribers: ${uploader.subscriberCount}`
        if username
          if subscribed
            button#mysubscribeButton= `Unsubscribe`
          else
            button#subscribeButton= `Subscribe`
        else
          button#myButton= `Log in to subscribe`
      h1#username= `${uploader.username}`

    #description-info
      button#descButton(onClick="toggleDescription()")= "Show More"
      h1#date= formattedDate
      p#description= video.description
      p#tags= video.tags

    if username
      form(action=`/video/${video.id}/add-comment` method="POST")
        .form-element
          p  Comment: 
          textarea(name='comment')
        input(type='submit' value='Post Comment')
    else
      h3= "You need to log in to be able to post comments"
  

  each comment in comments  
    h1= comment.user
    p= comment.comment

block script
  script(src='/js/test.js')